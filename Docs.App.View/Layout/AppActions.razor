@namespace Skclusive.Material.Docs.App.View
@using Skclusive.Material.Theme

<ThemeProvider
    Light="@Light"
    Dark="@Dark"
    Theme="@Theme" />
<MarkdownStyles
    Theme="@Theme" />
<MarkdownPrismStyles
    Theme="@Theme"/>

<IconButton
    Color="@Color.Inherit"
    OnClick="@OnThemeChange"
    aria-label="Toggle light/dark theme"
    title="Toggle light/dark theme">
    @if (IsLight)
    {
        <Brightness4Icon />
    } else
    {
        <Brightness7Icon />
    }
</IconButton>

@code
{
    public static ThemeConfig Light = new ThemeConfig
    {
        Palette = new PaletteConfig
        {
            Type = PaletteType.Light,

            Primary = new PaletteColorConfig
            {
                Main = TypeColors.Blue.X700
            },

            Secondary = new PaletteColorConfig
            {
                Main = TypeColors.Pink.A400.Darken(0.1m)
            },

            Background = new TypeBackground
            {
                Default = "#fff",

                Custom = new Dictionary<string, string>
                {
                    { "level1", "#fff" },

                    { "level2", TypeColors.Grey.X100 },

                    { "appbar-color", "var(--theme-palette-primary-contrast-text)" },

                    { "appbar-background-color", "var(--theme-palette-primary-main)" },
                },
            }
        }
    };

    public static ThemeConfig Dark = new ThemeConfig
    {
        Palette = new PaletteConfig
        {
            Type = PaletteType.Dark,

            Primary = new PaletteColorConfig
            {
                Main = TypeColors.Blue.X200
            },

            Secondary = new PaletteColorConfig
            {
                Main = TypeColors.Pink.X200
            },

            Background = new TypeBackground
            {
                Default = "#121212",

                Custom = new Dictionary<string, string>
                {
                    { "level1", TypeColors.Grey.X900 },

                    { "level2", "#333" },

                    { "appbar-color", "#fff" },

                    { "appbar-background-color", "#333" },
                },
            }
        }
    };

    private Skclusive.Core.Component.Theme Theme { set; get; } = Skclusive.Core.Component.Theme.Light;

    protected bool IsLight => Theme == Skclusive.Core.Component.Theme.Light;

    private void OnThemeChange()
    {
        Theme = IsLight ? Skclusive.Core.Component.Theme.Dark : Skclusive.Core.Component.Theme.Light;
    }
}